# microservice_architecture.md

## 개요

MSA 란?
- 애플리케이션을 작은 여러개의 독립적인 서비스로 분리하여 개발, 배포, 운영, 유지보수 하는 소프트웨어 아키텍쳐 스타일 입니다.

모놀리틱 아키텍쳐란?
- 하나의 큰 애플리케이션 안에 모든 기능이 포함된 구조 입니다.

## 특징과 장단점
### MSA 특징 및 장점
- 독립적 확장성
  - 각 서비스는 독립적으로 배포 가능하며, 다른 서비스에 영향을 주지 않고, 업데이트가 가능합니다.
  - 필요한 리소스만 추가(스케일링)할 수 있습니다.
  - 각 서비스가 작은 팀 혹은 담당자가 독립적으로 개발 및 관리가 가능합니다.
  - 서비스 별로 기술 스택을 다양하게 사용 할 수 있습니다.
- 빠른 배포
  - 각 서비스가 독립적인 팀이 개발하고 배포하기 때문에, 큰 단위가 아니여서 배포 속도가 빠르다.
  - 딱 해당 서비스의 이슈 혹은 기능 개발이 있을 경우, 전체 서비스 단위를 배포 하지 않아서, 배포 속도가 빠릅니다.
- 장애 격리성
  - 특정 서비스에서 장애가 발생해도 독립적인 서비스만 장애가 발생하여 고치면 됩니다.
  - SPOF의 영향을 최소화 할 수 있습니다.

### MSA 단점
- 분산 시스템에서 복잡성 증가
  - 여러개의 서비스가 통신하면서 복잡도가 높아지고, 서비스 관리 및 디버깅이 어려워집니다.
- 데이터 일관성 관리 어려움
  - 서비스별로 독립적인 데이터 베이스를 가질 수 있으므로, 데이터 간 일관성 유지가 어려워지고, 트랜잭션 관리가 복잡해집니다.
- 장애 발생 시 일관성 유지 복잡성
  - 하나의 서비스에서 에러가 발생했을 경우, 전체 시스템의 데이터를 복구하고 일관성 유지하지 위한 비용 및 공수가 들어 갈 수 있습니다.

### 모놀리틱 아키텍쳐 특징 및 장점
- 초기 구축이 빠름
  - 빠르게 MVP 제품을 만들어서 고객에게 간단하게 배포하려고 할때 유리합니다.
  - 하나의 서버 안에서 코드로 연결 되어있어서, 복잡한 네트워크 설정이 필요하지 않습니다.
- 유지 관리 단순
  - 하나의 데이터베이스로 데이터 일관성을 쉽게 유지합니다.
  - 하나의 프로젝트의 코드베이스만 관리하면 되서, 기능 추가, 코드 변경, 장애처리가 쉽습니다.

### 모놀리틱 아키텍쳐 단점
- 확장성 제한적
  - 사용자가 늘어나 특정 도메인에 과부화가 걸릴 경우, 개별적으로 확장하기 어렵습니다.
  - 전체 서버를 확장하려면 비용과 효율성 측면에서 떨어집니다.
- 배포 어려움
  - 어떤 서비스의 작은 기능을 수정해도 전체 애플리케이션을 재배포 해야해서 배포시간도 길어지고, 문제가 발생할 수 있습니다.
- 시스템 장애 전파가 빠름
  - 하나의 기능에서 발생한 장애가 애플리케이션 전체로 전파되서 전체 시스템이 중단될 수 있습니다.

## 실무 포인트


## 용어 정리
| 용어                | 뜻                                                                    |
| ----------------- | -------------------------------------------------------------------- |
| 마이크로서비스 아키텍처(MSA) | 하나의 애플리케이션을 여러 개의 작은 서비스로 나눠서, 서비스별로 독립적으로 개발, 배포, 운영하는 아키텍처 스타일입니다. |
| 모놀리틱 아키텍처         | 모든 기능이 하나의 애플리케이션(하나의 코드베이스, 보통 하나의 배포 단위) 안에 묶여 있는 구조입니다.           |
| 서비스(마이크로서비스)      | 특정 비즈니스 기능을 담당하는 독립 실행 단위입니다(자체 배포, 자체 운영이 가능한 수준).                  |
| 독립 배포             | 특정 서비스만 수정하고 그 서비스만 배포할 수 있는 방식입니다.                                  |
| 스케일링(확장)          | 트래픽이나 부하에 맞춰 서버 자원을 늘리는 작업입니다(주로 수평 확장/인스턴스 추가).                     |
| 장애 격리성            | 한 서비스에서 장애가 나도 다른 서비스로 장애가 퍼지지 않게 영향 범위를 줄이는 성질입니다.                  |
| SPOF(단일 장애 지점)    | 하나가 장애 나면 여러 기능이나 전체 시스템에 큰 영향을 주는 단일 컴포넌트/지점을 말합니다.                 |
| 분산 시스템            | 서비스가 여러 프로세스/서버로 나뉘어 네트워크로 통신하는 시스템입니다.                              |
| 서비스 간 통신          | 서비스끼리 HTTP/gRPC 또는 메시지(Kafka 등)로 데이터를 주고받는 방식입니다.                    |
| 데이터 일관성           | 여러 서비스/DB에 걸쳐 데이터가 논리적으로 맞게 유지되는 상태입니다.                              |
| 분산 트랜잭션           | 여러 서비스/DB에 걸친 트랜잭션을 하나처럼 처리하려는 문제 영역입니다(복잡도가 높습니다).                  |
| 장애 전파             | 한 컴포넌트의 장애가 연쇄적으로 다른 컴포넌트까지 실패하게 만드는 현상입니다.                          |


## 공부하면서 떠올린 질문
